<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>State Engineering College Event Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#f2f5ff;color:#333;}
header{background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;padding:20px;text-align:center;}
nav{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:10px 30px;box-shadow:0 2px 10px rgba(0,0,0,0.1);} 
nav h2{color:#1e3c72;}
nav input{padding:7px 15px;border-radius:20px;border:1px solid #ccc;width:220px;}
nav button{padding:6px 15px;border:none;border-radius:20px;background:#1e3c72;color:#fff;cursor:pointer;}
.container{padding:30px;}
.hidden{display:none;}

.dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-bottom:30px;}
.card{background:#fff;padding:20px;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,0.1);text-align:center;}
.card h3{color:#1e3c72;margin-bottom:5px;}

.section-title{color:#1e3c72;margin:20px 0;}

.colleges,.events{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;}
.college,.event{background:#fff;border-radius:15px;box-shadow:0 5px 12px rgba(0,0,0,0.1);overflow:hidden;transition:0.3s;}
.college:hover,.event:hover{transform:translateY(-5px);} 
.college img,.event img{width:100%;height:140px;object-fit:cover;}
.college-content,.event-content{padding:15px;}
.college-content h4,.event-content h4{color:#1e3c72;margin-bottom:5px;}

.form-box{background:#fff;padding:25px;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,0.1);max-width:600px;margin:40px auto;}
.form-box h3{text-align:center;color:#1e3c72;margin-bottom:15px;}
.form-box input,.form-box textarea,.form-box select{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #ccc;}
.form-box button{width:100%;padding:12px;background:#1e3c72;color:#fff;border:none;border-radius:8px;font-size:16px;cursor:pointer;}
.form-box button:hover{background:#2a5298;}

.badge{background:#ff9800;color:#fff;font-size:12px;padding:2px 6px;border-radius:5px;}

footer{background:#1e3c72;color:#fff;text-align:center;padding:15px;margin-top:40px;}
</style>
</head>
<body>

<header>
<h1>State Engineering College Event Portal</h1>
<p>Centralized Platform for Inter-College Activities</p>
</header>

<nav>
<h2>EventPortal</h2>
<input type="text" id="search" placeholder="Search Events / Colleges">
<div>
<span id="userText"></span>
<button id="logoutBtn" class="hidden" onclick="logout()">Logout</button>
</div>
</nav>

<!-- LOGIN -->
<div class="form-box" id="loginBox">
<h3>User Login</h3>
<input type="text" id="username" placeholder="Enter Username">
<select id="role">
<option value="student">Student</option>
<option value="admin">Admin</option>
</select>
<button onclick="login()">Login</button>
</div>

<!-- MAIN APP -->
<div class="container hidden" id="app">

<!-- DASHBOARD -->
<div class="dashboard">
<div class="card"><h3>Total Colleges</h3><h1 id="collegeCount">0</h1></div>
<div class="card"><h3>Total Events</h3><h1 id="eventCount">0</h1></div>
<div class="card"><h3>Registered Users</h3><h1>2000+</h1></div>
</div>

<!-- COLLEGES -->
<h2 class="section-title">Engineering Colleges</h2>
<div class="colleges" id="collegeList"></div>

<!-- EVENT FORM -->
<div class="form-box hidden" id="eventForm">
<h3>Publish New Event (Admin)</h3>
<select id="collegeSelect"></select>
<input type="text" id="eventTitle" placeholder="Event Name">
<input type="date" id="eventDate">
<input type="file" id="eventImage">
<textarea id="eventDesc" placeholder="Event Description"></textarea>
<button onclick="addEvent()">Publish</button>
</div>

<!-- EVENTS -->
<h2 class="section-title">Upcoming Events</h2>
<div class="events" id="eventList"></div>

</div>

<footer>
<p>Â© 2026 State Engineering College Event Portal</p>
</footer>

<script>

/******** USER SYSTEM ********/
let currentUser=JSON.parse(localStorage.getItem("user"))||null;

function login(){
 let name=username.value.trim();
 let roleVal=role.value;
 if(name===""){alert("Enter username");return;}
 currentUser={name,role:roleVal};
 localStorage.setItem("user",JSON.stringify(currentUser));
 init();
}

function logout(){
 localStorage.removeItem("user");
 location.reload();
}

/******** DATA ********/
const colleges=[
{name:"ABC Engineering College",place:"Chennai",img:"https://source.unsplash.com/400x300/?college"},
{name:"XYZ Institute of Technology",place:"Coimbatore",img:"https://source.unsplash.com/400x300/?university"},
{name:"National Tech University",place:"Madurai",img:"https://source.unsplash.com/400x300/?campus"},
{name:"State Engineering College",place:"Trichy",img:"https://source.unsplash.com/400x300/?students"},
{name:"Metro Technical University",place:"Salem",img:"https://source.unsplash.com/400x300/?education"}
];

let events=JSON.parse(localStorage.getItem("events"))||[];

/******** LOAD COLLEGES ********/
function loadColleges(){
 let list=document.getElementById("collegeList");
 let select=document.getElementById("collegeSelect");
 list.innerHTML="";
 select.innerHTML="";

 colleges.forEach(c=>{
  list.innerHTML+=`
  <div class="college">
   <img src="${c.img}">
   <div class="college-content">
    <h4>${c.name}</h4>
    <p>${c.place}</p>
   </div>
  </div>`;

  select.innerHTML+=`<option value="${c.name}">${c.name}</option>`;
 });

 collegeCount.innerText=colleges.length;
}

/******** ADD EVENT ********/
function addEvent(){
 let college=collegeSelect.value;
 let title=eventTitle.value;
 let date=eventDate.value;
 let desc=eventDesc.value;
 let file=eventImage.files[0];

 if(college===""||title===""||date===""){
  alert("Fill all required fields");return;
 }

 if(file){
  let reader=new FileReader();
  reader.onload=function(){
   saveEvent(reader.result);
  }
  reader.readAsDataURL(file);
 }else{
  saveEvent("");
 }

 function saveEvent(img){
  let ev={college,title,date,desc,img,by:currentUser.name};
  events.push(ev);
  localStorage.setItem("events",JSON.stringify(events));
  clearForm();
  displayEvents();
 }
}

function clearForm(){
 eventTitle.value="";
 eventDate.value="";
 eventDesc.value="";
 eventImage.value="";
}

/******** DISPLAY EVENTS ********/
function displayEvents(){
 let list=document.getElementById("eventList");
 list.innerHTML="";

 events.forEach((e,i)=>{
  list.innerHTML+=`
  <div class="event">
   ${e.img?`<img src="${e.img}">`:``}
   <div class="event-content">
    <h4>${e.title}</h4>
    <p><b>College:</b> ${e.college}</p>
    <p><b>Date:</b> ${e.date}</p>
    <p>${e.desc}</p>
    <p><small>By: ${e.by}</small></p>
    ${currentUser.role==='admin'?`<button onclick="deleteEvent(${i})">Delete</button>`:``}
   </div>
  </div>`;
 });

 eventCount.innerText=events.length;
}

function deleteEvent(i){
 if(confirm("Delete this event?")){
  events.splice(i,1);
  localStorage.setItem("events",JSON.stringify(events));
  displayEvents();
 }
}

/******** SEARCH ********/
search.addEventListener("keyup",()=>{
 let val=search.value.toLowerCase();
 document.querySelectorAll('.college,.event').forEach(el=>{
  el.style.display=el.innerText.toLowerCase().includes(val)?"block":"none";
 });
});

/******** INIT ********/
function init(){
 if(!currentUser){
  loginBox.classList.remove("hidden");
  app.classList.add("hidden");
 }else{
  loginBox.classList.add("hidden");
  app.classList.remove("hidden");

  userText.innerHTML=`Hello, ${currentUser.name} ${currentUser.role==='admin'?'<span class="badge">Admin</span>':''}`;
  logoutBtn.classList.remove("hidden");

  if(currentUser.role==='admin'){
   eventForm.classList.remove("hidden");
  }

  loadColleges();
  displayEvents();
 }
}

init();

</script>
</body>
</html>